def index(): return dict(message="hello from promotion.py")
# -*- coding: utf-8 -*-
# try something like
import config as c
from gluon.tools import Mail

mail = Mail()
mail.settings.server = 'smtp.gmail.com: 587'     
mail.settings.sender = 'config.My_email'       
mail.settings.login = 'config.My_email:config.My_pass'


@auth.requires_membership('Buyer')
def subscribe():
    form = SQLFORM(db.promotion).process()
    if form.process().accepted:
        send_email(form.vars.name, form.vars.email)
        
        response.flash ='Thank you for subscribing. Please check your email'
    return dict(form = form)


def send_email(name, email):
    mail.send(to= email,
          subject='Fresh Vegies',
          message='''<html class=' js flexbox canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths' lang='en' style=''><!--<![endif]--><head><meta http-equiv='Content-Type' content='text/html; charset=UTF-8'><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>       <meta name='viewport' content='width=device-width, initial-scale=1.0'>    <title>Fresh</title>    <!-- http://dev.w3.org/html5/markup/meta.name.html -->    <meta name='application-name' content='Fresh'>       <meta name='google-site-verification' content=''>    <!-- include stylesheets -->    <link rel='stylesheet' href='./vegies_files/font-awesome.min.css'>    <link rel='stylesheet' href='./vegies_files/bootstrap.min.css'>    <link rel='stylesheet' href='./vegies_files/web2py-bootstrap4.css'>    <link rel='shortcut icon' href='https://erhanandrei.pythonanywhere.com/Fresh/static/images/favicon.ico' type='image/x-icon'>    <link rel='apple-touch-icon'href='https://erhanandrei.pythonanywhere.com/Fresh/static/images/favicon.png'>    <!-- All JavaScript at the bottom, except for Modernizr which enables         HTML5 elements & feature detects -->    <script src='./vegies_files/modernizr-2.8.3.min.js.descărcare'></script>    <!-- Favicons -->    <script type='text/javascript'><!--    // These variables are used by the web2py_ajax_init function in web2py_ajax.js (which is loaded below).    var w2p_ajax_confirm_message = 'Are you sure you want to delete this object?';var w2p_ajax_disable_with_message = 'Working...';var w2p_ajax_date_format = '%Y-%m-%d';var w2p_ajax_datetime_format = '%Y-%m-%d %H:%M:%S';var ajax_error_500 = 'An error occured, please <a href=\'/Fresh/Products/myposts\'>reload</a> the page';    //--></script><meta name='author' content='Your Name &lt;you@example.com&gt;'><meta name='description' content='a cool new app'><meta name='keywords' content='&lt;map object at 0x7f56b6281128&gt;'><meta name='generator' content='Web2py Web Framework'><script src='./vegies_files/jquery.js.descărcare' type='text/javascript'></script><link href='./vegies_files/calendar.css' rel='stylesheet' type='text/css'><script src='./vegies_files/calendar.js.descărcare' type='text/javascript'></script><script src='./vegies_files/web2py.js.descărcare' type='text/javascript'></script> <!-- this includes jquery.js, calendar.js/.css and web2py.js -->  <style>h6.a {  letter-spacing: 0.1px;  padding: 0;  margin: 0;  font-family: 'Share Tech Mono', Monospace, Courier;  font-weight: 1000;  font-size: 45px;  color: #ff884d;}     h5.b {letter-spacing: 0.1px;  padding: 0;  margin: 0;  font-family: 'Share Tech Mono', Monospace, Courier;  font-weight: 1000;  font-size: 45px;  color: #ff884d;     }     body {  background-color: #DEFFC2      ;}</style></head>  <body>    <div class='container-fluid main-container'><h1>My posts</h1><hr><div class='row'>    <img class='col col-lg-4 col-md-6 col-sm-6 col-xs-12' src='./vegies_files/photo-1587411768638-ec71f8e33b78' alt='image'>    <div class='col col-lg-8 col-md-6 col-sn-6 col-xs-12'>        <h1>            <b>Cornichon cucumber</b>        </h1>        <p>            <b>Parisienne cornichon de bourbonne cucumber</b>        </p>        <p>            35 MDL\KG        </p>    </div></div><hr><div class='row'>    <img class='col col-lg-4 col-md-6 col-sm-6 col-xs-12' src='./vegies_files/pexels-photo-547263.jpeg' alt='image'>    <div class='col col-lg-8 col-md-6 col-sn-6 col-xs-12'>        <h1>            <b>Corn</b>        </h1>        <p>            <b>Sweet corn</b>        </p>        <p>            10 MDL\KG        </p>    </div></div><hr><div class='row'>    <img class='col col-lg-4 col-md-6 col-sm-6 col-xs-12' src='./vegies_files/pexels-photo-1437575.jpeg' alt='image'>
    <div class="col col-lg-8 col-md-6 col-sn-6 col-xs-12">
        <h1>
            <b>Cherry tomatoes</b>
        </h1>
        
        <p>
            <b>Colorful cherry tomatoes</b>
        </p>
        <p>
            35 MDL\KG
        </p>
         
        
    </div>
</div>

<hr>


<div class="row">
    <img class="col col-lg-4 col-md-6 col-sm-6 col-xs-12" src="./vegies_files/pexels-photo-539431.jpeg" alt="image">
    <div class="col col-lg-8 col-md-6 col-sn-6 col-xs-12">
        <h1>
            <b>Asparagus</b>
        </h1>
        
        <p>
            <b>Healthy  asparagus</b>
        </p>
        <p>
            150 MDL\KG
        </p>
        
        
    </div>
</div>

<hr>


<div class="row">
    <img class="col col-lg-4 col-md-6 col-sm-6 col-xs-12" src="./vegies_files/mushroom-fungi-fungus-many-53494.jpeg" alt="image">
    <div class="col col-lg-8 col-md-6 col-sn-6 col-xs-12">
        <h1>
            <b>Brown Mushroom</b>
        </h1>
        
        <p>
            <b>Edible basidiomycete mushroom</b>
        </p>
        <p>
            55 MDL\KG
        </p>
        
        
    </div>
</div>

<hr>


<div class="row">
    <img class="col col-lg-4 col-md-6 col-sm-6 col-xs-12" src="./vegies_files/pexels-photo-1268101.jpeg" alt="image">
    <div class="col col-lg-8 col-md-6 col-sn-6 col-xs-12">
        <h1>
            <b>Carrot</b>
        </h1>
        
        <p>
            <b>Eco Carrot</b>
        </p>
        <p>
            18 MDL\KG
        </p>
        
        
    </div>
</div>

<hr>


<div class="row">
    <img class="col col-lg-4 col-md-6 col-sm-6 col-xs-12" src="./vegies_files/pexels-photo-1437587.jpeg" alt="image">
    <div class="col col-lg-8 col-md-6 col-sn-6 col-xs-12">
        <h1>
            <b>Green peas</b>
        </h1>
        
        <p>
            <b>Tasty green peas</b>
        </p>
        <p>
            15 MDL\KG
        </p>
        
        
    </div>
</div>

<hr>


<div class="row">
    <img class="col col-lg-4 col-md-6 col-sm-6 col-xs-12" src="./vegies_files/pexels-photo-1367243.jpeg" alt="image">
    <div class="col col-lg-8 col-md-6 col-sn-6 col-xs-12">
        <h1>
            <b>Tomatoes</b>
        </h1>
        
        <p>
            <b>Fresh tomatoes</b>
        </p>
        <p>
            25 MDL\KG
        </p>
                
    </div>
</div>

<hr>



      
    </div>

         
    <!-- The javascript =============================== -->
    <script src="./vegies_files/bootstrap.bundle.min.js.descărcare"></script>
    <script src="./vegies_files/web2py-bootstrap4.js.descărcare"></script>
    
    
  

</body></html>'''
